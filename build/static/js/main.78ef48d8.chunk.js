(this["webpackJsonpearnings-tracking"]=this["webpackJsonpearnings-tracking"]||[]).push([[0],{228:function(e,t,a){"use strict";a.r(t);var n,i=a(2),r=a.n(i),c=a(87),s=a.n(c),d=(a(98),a(13)),o=a(39);n=0===o.a.apps.length?o.a.initializeApp({apiKey:"AIzaSyCaCxOS1Rdgy3oWFYk3Yp1mw1jwN-zZc2c",authDomain:"earnings-tracking-9fe48.firebaseapp.com",projectId:"earnings-tracking-9fe48",storageBucket:"earnings-tracking-9fe48.appspot.com",messagingSenderId:"696240016173",appId:"1:696240016173:web:5b30198f0f1bf9725961a4"}):o.a.app();var j=o.a.auth(),u=n.database(),l=a(31),b=a(9),h=a(14),p=a(47),O=a(3),m=["isAuthenticated","component"],x=function(e){var t=e.isAuthenticated,a=e.component,n=Object(p.a)(e,m);return Object(O.jsx)(b.b,Object(h.a)(Object(h.a)({},n),{},{component:function(e){return t?Object(O.jsx)(a,Object(h.a)({},e)):Object(O.jsx)(b.a,{to:"/Signin"})}}))},v=["isAuthenticated","component"],f=function(e){var t=e.isAuthenticated,a=e.component,n=Object(p.a)(e,v);return Object(O.jsx)(b.b,Object(h.a)(Object(h.a)({},n),{},{component:function(e){return t?Object(O.jsx)(b.a,{to:"/WorkerDashboard"}):Object(O.jsx)(a,Object(h.a)({},e))}}))},g=a(88),w=a.n(g),S=(a(128),function(e){var t=e.width,a=e.hegiht;return Object(O.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(O.jsx)(w.a,{type:"Oval",color:"#6a5acd",height:a,width:t})})}),_=a(27),k=a.n(_),A=a(38),y=(a(53),function(e){var t=e.headline,a=e.btnName,n=e.path;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{id:"shape1"}),Object(O.jsx)("div",{id:"shape2"}),Object(O.jsx)("div",{id:"shape3"}),Object(O.jsx)("div",{id:"shape4"}),Object(O.jsx)("div",{className:"logo",children:"Logo"}),Object(O.jsxs)("div",{id:"auth__sidebar__inner",children:[Object(O.jsx)("h2",{className:"medium__text",children:Object(O.jsx)("strong",{children:t})}),Object(O.jsx)("h6",{className:"small__text",children:"To keep track of your earnings keep connected."}),Object(O.jsx)(l.b,{to:n,children:Object(O.jsx)("button",{children:a})})]})]})}),P=a(51),N=a(22),q=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(""),c=Object(d.a)(r,2),s=c[0],o=c[1],u=N.a({email:N.b().email("Invalid email format").required("Email is required"),password:N.b().required("Password is required")}),l=function(){var e=Object(A.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(""),n(!0),e.next=4,j.signInWithEmailAndPassword(b.values.email,b.values.password).then((function(){n(!1)})).catch((function(e){o(e.message),n(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Object(P.a)({initialValues:{email:"",password:""},onSubmit:l,validationSchema:u});return Object(O.jsxs)("div",{className:"auth__box",children:[Object(O.jsx)("div",{id:"box__left",children:Object(O.jsx)(y,{headline:"Don't Have Account",btnName:"Sign Up",path:"/Signup"})}),Object(O.jsxs)("div",{id:"box__right",children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsx)("div",{id:"error",children:s&&s}),Object(O.jsxs)("form",{onSubmit:b.handleSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(h.a)({type:"email",placeholder:"Email",id:"email",name:"email"},b.getFieldProps("email"))),b.touched.email&&b.errors.email?Object(O.jsx)("div",{id:"error",children:b.errors.email}):null]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(h.a)({type:"password",placeholder:"Password",id:"password",name:"password"},b.getFieldProps("password"))),b.touched.password&&b.errors.password?Object(O.jsx)("div",{id:"error",children:b.errors.password}):null]}),Object(O.jsx)("div",{id:"auth_btn",children:Object(O.jsx)("button",{id:"signin",type:"submit",disabled:a,children:a?"Loading...":"Signup"})})]})]})]})},D=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(""),c=Object(d.a)(r,2),s=c[0],o=c[1],l=N.a({name:N.b().required("Name is required"),email:N.b().email("Invalid email format").required("Email is required"),password:N.b().required("Password is required")}),b=function(){var e=Object(A.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(""),n(!0),e.next=4,j.createUserWithEmailAndPassword(p.values.email,p.values.password).then(Object(A.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.ref(),a=t.child("Users/".concat(j.currentUser.uid)),e.next=4,a.set({email:p.values.email,name:p.values.name}).then((function(){alert("Account created successfully")})).catch((function(e){j.signOut(),o(e.message)}));case 4:n(!1);case 5:case"end":return e.stop()}}),e)})))).catch((function(e){o(e.message),n(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=Object(P.a)({initialValues:{name:"",email:"",password:""},onSubmit:b,validationSchema:l});return Object(O.jsxs)("div",{className:"auth__box",children:[Object(O.jsx)("div",{id:"box__left",children:Object(O.jsx)(y,{headline:"Welcome Back",btnName:"Login",path:"/Signin"})}),Object(O.jsxs)("div",{id:"box__right",children:[Object(O.jsx)("h2",{children:"Create Account"}),Object(O.jsx)("div",{id:"error",children:s&&s}),Object(O.jsxs)("form",{onSubmit:p.handleSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(h.a)({type:"text",placeholder:"Name",id:"name",name:"name"},p.getFieldProps("name"))),p.touched.name&&p.errors.name?Object(O.jsx)("div",{id:"error",children:p.errors.name}):null]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(h.a)({type:"email",placeholder:"Email",id:"email",name:"email"},p.getFieldProps("email"))),p.touched.email&&p.errors.email?Object(O.jsx)("div",{id:"error",children:p.errors.email}):null]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(h.a)({type:"password",placeholder:"Password",id:"password",name:"password"},p.getFieldProps("password"))),p.touched.password&&p.errors.password?Object(O.jsx)("div",{id:"error",children:p.errors.password}):null]}),Object(O.jsx)("div",{id:"auth_btn",children:Object(O.jsx)("button",{id:"signin",type:"submit",disabled:a,children:a?"Loading...":"Signup"})})]})]})]})},E=Object(i.createContext)(null),I=function(){var e=Object(i.useContext)(E),t=e.userData;e.setUserData;console.log(t);return Object(O.jsxs)("div",{children:[t&&t.name,Object(O.jsx)("button",{onClick:function(){j.signOut()},children:"Logout"})]})},C=function(e){var t=e.isAuthenticated;return e.loading?Object(O.jsx)(S,{width:50,hegiht:50}):Object(O.jsx)(l.a,{children:Object(O.jsxs)(b.d,{children:[Object(O.jsx)(f,{path:"/",component:q,exact:!0,isAuthenticated:t}),Object(O.jsx)(f,{path:"/Signin",component:q,exact:!0,isAuthenticated:t}),Object(O.jsx)(f,{path:"/Signup",component:D,exact:!0,isAuthenticated:t}),Object(O.jsx)(x,{path:"/WorkerDashboard",component:I,exact:!0,isAuthenticated:t})]})})};var F=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)({}),c=Object(d.a)(r,2),s=c[0],o=c[1],l=Object(i.useState)(!1),b=Object(d.a)(l,2),h=b[0],p=b[1];return Object(i.useEffect)((function(){p(!0),j.onAuthStateChanged((function(e){e?(n(!0),u.ref("Users/".concat(e.uid)).on("value",(function(e){o(e.val()),p(!1)}))):(n(!1),p(!1))}))}),[]),Object(O.jsx)(E.Provider,{value:{userData:s,setUserData:o},children:Object(O.jsx)(C,{isAuthenticated:a,loading:h})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root"))},53:function(e,t,a){},98:function(e,t,a){}},[[228,1,2]]]);
//# sourceMappingURL=main.78ef48d8.chunk.js.map